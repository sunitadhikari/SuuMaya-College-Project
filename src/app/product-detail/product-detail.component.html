<app-header></app-header>
<div *ngIf="productDetails$ | async as product" class="flex flex-col
    flex-wrap mx-auto sm:flex w-full sm:py-10 sm:px-7 px-3
    py-5">
    <div class="bg-gray-200 w-full sm:py-10 sm:px-7 px-3
        py-5 rounded-md">
        <div class=" flex sm:flex-row flex-col gap-5 w-full">
            <div class="w-[50%] bg-white px-7 py-4 gap-4">
                <span class="font-bold text-2xl p-3
                    text-[#ef4b4b]">{{product.name}}</span>
                <img class="hover:cursor-zoom-out" src="{{ product.images }}"
                    alt="{{
                    product.name
                    }}"
                    class="md:h-fit md:w-full sm:h-[50px]
                    sm:w-[80px] w-full object-fit h-full justify-stretch p-2
                    sm:p-4
                    md:p-7">
            </div>
            <form [formGroup]="detailForm" (ngSubmit)="submit()"
                class="w-[50%]">
                <div class="flex flex-col
                    bg-white px-7 py-4 sm:gap-3 gap-2">
                    <h2 class="font-extrabold text-xl text-[#ef4b4b]">Detail</h2>
                    <p class="font-medium text-base text black">{{product.detail}}</p>
                    <div class="text-black text-xs sm:gap-2 md:gap-3">
                        <span class="font-extrabold text-xl text-[#ef4b4b]">Size</span>
                        <div *ngFor="let size of sizes">
                            <input name="sizes" value="{{size}}"
                                formControlName="sizes" type="radio" required>
                            <label for="{{size}}">{{size}}</label><br>
                        </div>
                    </div>
                    <span class="font-semibold text-[#f65f5f] text-2xl">Quantity:<br>
                        <mat-form-field class="text-black font-[20px]">
                            <input matInput type="number" class="font-[15px]"
                                placeholder="Min
                                value"
                                formControlName="quantity">
                        </mat-form-field>
                    </span>
                    <span class="font-semibold text-[#f65f5f] text-2xl">Price</span>
                    <div> {{
                        (detailForm.get('quantity')?.value ?? 1) *
                        (product.price)
                        }}
                    </div>
                    <div class="flex">
                        <span class="font-semibold text-[#f65f5f] md:text-2xl">Category:
                            <div class=" text-xl
                                text-black">{{product.category}}</div></span></div>
                    <div class="flex justify-self-end">
                        <button [disabled]="!detailForm.valid"
                            [class]="!detailForm.valid?
                            'bg-gray-400 text-black' : 'bg-[#f65f5f]
                            text-white'" class="
                            font-extrabold text-black
                            px-3 py-1.5
                            text-xl justify-self-end
                            rounded-md">Rent</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <pre>

  {{detailForm.value | json}}
</pre>
</div>
<app-footer></app-footer>